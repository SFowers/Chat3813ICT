<div class="groups-container">
    <div *ngIf="currentUser.permission==gadmin || currentUser.permission==sadmin">
        <h1>Create a new Group</h1>
        <form (submit)="createGroup($event)">
            <div class="form-item">
                <label class="form-label">Group Name</label>
                <input type="text" [(ngModel)]="groupname" name="groupname" class="form-input"/>
            </div>
            <div class="error-message" *ngIf="error">
                {{error}}
            </div>
            <div class="form-item">
                <button type="button" class="btn btn-primary" type="submit">Create Group</button>
            </div>
        </form>
    </div>
    <div *ngIf="myGroups.length > 0" class="group-list-container">
        <h1>My Groups</h1>
        <ul *ngFor="let g of myGroups">
            <li><button (click)="onSelect(g)">{{g.groupname}}</button></li>
        </ul>
    </div>
    <div>
        <h1>Find More Groups</h1>
        <ul *ngFor="let g of allGroups" >
            <li *ngIf="!g.users.includes(currentUser.username)">
                <button  (click)="onSelect(g)">{{g.groupname}} 
                    <div *ngIf="g.applied.includes(currentUser.username)">- Applied</div>
                </button>
            </li>
        </ul>
    </div>
</div>